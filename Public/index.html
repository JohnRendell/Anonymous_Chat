<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anonymous Chat</title>

    <!--Libraries-->
    <script src="/socket.io/socket.io.min.js"></script>
    <link rel="stylesheet" href="/style.css">
</head>
<body class="bg-[#C7D9DD] overflow-hidden">
    <!--Nickname pop up-->
    <div class="flex absolute w-screen h-screen backdrop-blur-sm justify-center items-center" id="nicknameDivPopUp" style="display: flex;">
        <div class="bg-[#D5E5D5] border-solid border-4 border-[#85cede] rounded-[2rem] w-[30%] h-auto p-4 flex flex-col gap-2 items-center">
            <h1 class="text-center font-roboto text-bold text-[20px]">Who are you?</h1>
            
            <div class="w-full flex-col gap-2">
                <input id="nicknameInputID" type="text" class="bg-white rounded-[2rem] p-4 w-full h-[20%] font-roboto text-center outline-none" maxlength="20" placeholder="Type your nickname" oninput="textCounter('nicknameInputID', 'nicknameInputCounterID')">
                <p class="font-roboto text-left text-black text-sm" id="nicknameInputCounterID">0/20</p>
                <p class="font-roboto text-center text-red-500 text-sm" id="nicknameWarningTextID"></p>
            </div>

            <button class="bg-[#ADB2D4] w-auto h-auto font-roboto text-center text-white rounded-[20px] py-2 px-4 cursor-pointer active:bg-[#828abf]" onclick="submitNickname()">Proceed</button>
        </div>
    </div>

    <!--Welcome user-->
    <div class="w-screen h-auto p-4 bg-[#EEF1DA]">
        <h1 class="font-roboto text-center text-black text-bold text-md" id="displayUserName">Welcome {user}</h1>
    </div>

    <div class="w-full h-full flex justify-between p-2 gap-2">
        <!--Global chat div-->
        <div class="w-full h-[35rem] overflow-x-hidden overflow-y-auto bg-white rounded-[10px]">
            <div class="w-full h-auto p-2 bg-[#EEF1DA]">
                <h1 class="font-roboto text-center text-black text-bold">Global Messages</h1>
            </div>
        </div>
        
        <!--Messages for private user-->
        <div class="w-[20rem] h-[35rem] overflow-x-hidden overflow-y-auto bg-white rounded-[10px]">
            <div class="w-full h-auto p-2 bg-[#EEF1DA]">
                <h1 class="font-roboto text-center text-black text-bold">Private Messages</h1>
            </div>
            <div class="w-full h-auto p-2 bg-[#fcffe6] flex flex-col gap-2">
                <input id="searchID" type="text" placeholder="search..."
                    class="bg-white rounded-[2rem] p-2 w-full h-[10%] font-roboto text-center outline-none" maxlength="20"
                    oninput="textCounter('searchID', 'searchCounterID')">
                <p class="font-roboto text-left text-black text-sm" id="searchCounterID">0/20</p>
            </div>
        </div>
    </div>
</body>
</html>

<script src="./socketConnection.js"></script>
<script src="./globalFunction.js"></script>
<script src="./nicknameValidate.js"></script>